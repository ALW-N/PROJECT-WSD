$("#register_form").on("submit",e=>{e.preventDefault();let r=$("#register_form").serializeArray(),a={};r.forEach(e=>{a[e.name]=e.value}),$.ajax({type:"POST",url:"/user/register",data:a,encode:!0,dataType:"json",success:e=>{if(console.log(e),e.err)if($("#res_container").removeAttr("class"),$("#res_container").addClass("invalid-feedback"),e.error.message)$("#res_container").text(e.error.message);else{let r=Object.keys(e.error.keyValue)[0];$("#res_container").text(r+" - "+e.error.keyValue[r]+" already exisits.")}else $("#res_container").removeAttr("class"),$("#res_container").addClass("valid-feedback"),$("#res_container").text(e.msg),setTimeout(()=>{location.replace("/user")},2e3)}})}),$("input[type=Date]").prop("max",(new Date).toISOString().substring(0,10));